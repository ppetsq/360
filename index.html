<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Overlook Hotel - Virtual Showroom</title>
    
    <!-- Load dependencies locally -->
    <script src="libs/three.min.js"></script>
    <script src="libs/uevent.min.js"></script>
    
    <!-- Load PhotoSphereViewer locally -->
    <link rel="stylesheet" href="libs/photo-sphere-viewer.min.css">
    <script src="libs/photo-sphere-viewer.min.js"></script>
    
    <style>
        body { text-align: center; background-color: #121212; color: white; font-family: Arial, sans-serif; }
        .viewer-container { width: 100vw; height: 80vh; }
        .controls { margin-top: 10px; }
        button { background: #ff9800; border: none; padding: 10px; margin: 5px; cursor: pointer; color: white; font-size: 1rem; }
        button:hover { background: #ffa726; }
    </style>
</head>
<body>
    <h1>The Overlook Hotel - Virtual Showroom</h1>
    <p>Explore the different lighting modes of The Overlook Hotel.</p>
    <div class="viewer-container" id="viewer"></div>
    
    <div class="controls">
        <button onclick="changeView('day')">Day</button>
        <button onclick="changeView('evening')">Evening</button>
        <button onclick="changeView('night')">Night</button>
        <button onclick="changeView('off')">Off</button>
    </div>
    
    <script>
        window.onload = function () {
            console.log("Checking if PhotoSphereViewer is loaded:", typeof PhotoSphereViewer);
    
            if (typeof PhotoSphereViewer === "undefined") {
                console.error("‚ùå PhotoSphereViewer failed to load. Check your script sources.");
                return;
            }
    
            const images = {
                day: "https://assets.360.petsq.works/Overlook/overlook_day.jpg",
                evening: "https://assets.360.petsq.works/Overlook/overlook_evening.jpg",
                night: "https://assets.360.petsq.works/Overlook/overlook_night.jpg",
                off: "https://assets.360.petsq.works/Overlook/overlook_off.jpg"
            };
    
            // Initialize viewer correctly
            const viewer = new PhotoSphereViewer.Viewer({
                container: document.querySelector('#viewer'),
                panorama: images.day,
                navbar: false,
                touchmoveTwoFingers: true
            });
    
            function changeView(mode) {
                viewer.setPanorama(images[mode]);
            }
    
            // Attach function to window so buttons work
            window.changeView = changeView;
        };
    </script>
</body>
</html>
