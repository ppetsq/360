<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLAAK</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>

    <!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700&family=EB+Garamond:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        .a-enter-vr { display: none !important; }

        /* ðŸ”¥ Fade-In Effect */
        #fade-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            z-index: 9999;
            opacity: 1;
            transition: opacity 2s ease-out;
        }

        * { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
}
body { 
    font-family: 'Syne', sans-serif; 
    background-color: #000; 
    color: #fff; 
    text-align: center; 
}
.overlay { 
    position: absolute; 
    top: 40px; 
    left: 40px; 
    z-index: 100;
    width: calc(100% - 80px);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    pointer-events: auto;
    opacity: 0;
    animation: fadeInUI 0.8s ease-out forwards 0.5s;
    gap: 0px; /* Adjust as needed */
}
@keyframes fadeInUI {
    from { opacity: 0; }
    to { opacity: 1; }
}
.title {
    font-size: 78px;
    font-weight: 700;
    text-transform: uppercase;
    max-width: 100%;
    word-wrap: break-word;
    line-height: 1.1;
    cursor: pointer;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5); /* âœ… Subtle drop shadow */
    text-align: left;
    transition: opacity 0.2s ease-in-out; /* âœ… Smooth hover effect */
}

/* âœ… Subtle hover effect */
.title:hover {
    opacity: 0.70; /* Slightly dims when hovered */
}
.coordinates {
    font-size: 16px;
    font-family: 'JetBrains Mono', monospace;
    font-weight: 300; /* Light but readable */
    color: rgba(255, 255, 255, 0.7);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    text-align: left;
}
.description { 
    font-family: 'Cormorant Garamond', serif; /* âœ… Smoother alternative */
    font-size: 18px; 
    font-weight: 400; 
    max-width: 600px; 
    margin-top: 0px; 
    line-height: 1.4; 
    word-wrap: break-word;
    opacity: 1; 
    transition: opacity 0.5s ease-in-out, visibility 0.5s ease-in-out;
    text-align: left;
    color: rgba(255, 255, 255, 0.7); /* âœ… Matches coordinates */
}
@media (max-width: 810px) {
    .title { font-size: 40px; line-height: 1.05; }
    .coordinates { font-size: 14px;}
    .description { font-size: 16px; }
}

#brand-colors {
    display: flex;
    gap: 12px !important;
    justify-content: flex-end;
    align-self: flex-end; /* âœ… Aligns colors to the right */
    padding-bottom: 10px; /* âœ… Creates spacing between colors and title */
}

.color-box {
    width: 12px;
    height: 12px;
    border-radius: 4px;
    transition: opacity 0.3s ease-in-out; /* Smooth transition */
    display: inline-block; /* âœ… Ensures they behave like inline elements */
    margin-right: 8px;
}

/* âœ… Remove margin from the last element to prevent extra spacing */
.color-box:last-child {
    margin-right: 0;
}

/* Hover effect for all boxes at once */
@media (hover: hover) {
    #brand-colors:hover .color-box {
        opacity: 0.5; /* 50% opacity when hovering over the whole section */
    }
}

.color-green { background-color: #87D156; }
.color-yellow { background-color: #FFDF4D; }
.color-orange { background-color: #EF5900; }

/* Adjust margins to prevent overlap */
.title, .coordinates, .description {
    margin: 0;
    padding: 5px 0;
}

    </style>

</head>
<body>

    <!-- ðŸ”¥ Fade-In Effect -->
    <div id="fade-overlay"></div>

    <!-- Overlay Text -->
    <div class="overlay">
        <div id="brand-colors">
            <a href="https://petsq.works" id="brand-colors-link" target="_blank" rel="noopener noreferrer">
                <div class="color-box color-green"></div>
                <div class="color-box color-yellow"></div>
                <div class="color-box color-orange"></div>
            </a>
        </div>
        <h1 class="title" onclick="toggleDescription()">BLAAK TRAIN STATION</h1>
        <p class="coordinates">51.919929Â° N, 4.489521Â° E</p>
        <p class="description" id="description">A moment frozen in motionâ€”subway trains gliding past, neon reflections in steel, the hum of city life echoing underground. Blaak station is where past meets the future, in a loop of silent movement.</p>
    </div>

    <!-- A-Frame Scene -->
    <a-scene 
        device-orientation-permission-ui="enabled: false"
        touch-action="none"
        vr-mode-ui="enabled: false">

        <a-assets>
            <video id="blaakVideo" muted playsinline webkit-playsinline loop crossorigin="anonymous">
                <source src="https://assets.360.petsq.works/rotterdam/rotterdam_blaak.mp4" type="video/mp4">
            </video>
        </a-assets>

        <!-- âœ… FIXED CAMERA SYSTEM -->
        <a-camera id="camera" look-controls wasd-controls="enabled: false"></a-camera>

        <!-- âœ… VIDEO SPHERE WITH SMOOTHER ROTATION -->
        <a-videosphere src="#blaakVideo" rotation="0 180 0"
            animation="property: rotation; to: 0 540 0; loop: true; dur: 50000; easing: linear">
        </a-videosphere>

    </a-scene>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const video = document.getElementById('blaakVideo');
            const fadeOverlay = document.getElementById('fade-overlay');

            function tryPlay() {
                video.play().then(() => {
                    console.log("âœ… Video started playing");
                }).catch(err => {
                    console.log("âŒ Autoplay blocked, waiting for user action...");
                });
            }

            tryPlay();
            document.body.addEventListener('click', tryPlay);

            // Fade out the overlay
            fadeOverlay.style.opacity = '0';
            fadeOverlay.addEventListener('transitionend', () => {
                fadeOverlay.style.display = 'none';
            });

            // âœ… RE-ENABLE TOUCH CONTROLS
            const scene = document.querySelector('a-scene');
            scene.addEventListener('loaded', () => {
                const camera = document.querySelector('[camera]');
                if (camera) {
                    camera.setAttribute('look-controls', 'enabled: true; touchEnabled: true; mouseEnabled: true; reverseMouseDrag: false;');
                    console.log("âœ… Full 360Â° touch controls enabled.");
                }
            });
        });
    </script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const video = document.getElementById('blaakVideo');
        const fadeOverlay = document.getElementById('fade-overlay');
        const description = document.getElementById('description');
        const title = document.querySelector('.title');

        function tryPlay() {
            video.play().then(() => {
                console.log("âœ… Video started playing");
            }).catch(err => {
                console.log("âŒ Autoplay blocked, waiting for user action...");
            });
        }

        tryPlay();
        document.body.addEventListener('click', tryPlay);

        // Fade-out effect on load
        fadeOverlay.style.opacity = '0';
        fadeOverlay.addEventListener('transitionend', () => {
            fadeOverlay.style.display = 'none';
        });

        // âœ… FIXED: Click to Hide/Show Description
        function toggleDescription() {
            if (description.style.opacity === "1" || description.style.opacity === "") {
                description.style.opacity = "0";
                description.style.visibility = "hidden";
            } else {
                description.style.visibility = "visible";
                description.style.opacity = "1";
            }
        }

        // âœ… Attach click event to the title
        title.addEventListener("click", toggleDescription);
    });
</script>

</body>
</html>