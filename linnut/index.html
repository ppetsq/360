<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lintuhavainnot</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --color-bg: #f8f6f3;
      --color-bg-card: #ffffff;
      --color-text: #2d3a2e;
      --color-text-muted: #6b7c6c;
      --color-accent: #3d5a47;
      --color-accent-light: #e8ede9;
      --color-border: #d4ddd5;
      --font-display: 'Cormorant Garamond', Georgia, serif;
      --font-body: 'Outfit', system-ui, sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: var(--font-body);
      background: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
      min-height: 100vh;
    }

    /* Header */
    header {
      padding: 4rem 2rem 3rem;
      text-align: center;
      border-bottom: 1px solid var(--color-border);
      background: linear-gradient(180deg, #fff 0%, var(--color-bg) 100%);
    }

    h1 {
      font-family: var(--font-display);
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 400;
      letter-spacing: 0.02em;
      color: var(--color-accent);
      margin-bottom: 0.5rem;
    }

    .subtitle {
      font-size: 1rem;
      color: var(--color-text-muted);
      font-weight: 300;
    }

    .stats {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-top: 2rem;
      flex-wrap: wrap;
    }

    .stat {
      text-align: center;
    }

    .stat-number {
      font-family: var(--font-display);
      font-size: 2.5rem;
      color: var(--color-accent);
      display: block;
      line-height: 1;
    }

    .stat-label {
      font-size: 0.85rem;
      color: var(--color-text-muted);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    /* Main */
    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    /* Search & Filters */
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
      padding: 1.5rem;
      background: var(--color-bg-card);
      border-radius: 12px;
      border: 1px solid var(--color-border);
    }

    .search-box {
      flex: 1;
      min-width: 250px;
    }

    .search-box input {
      width: 100%;
      padding: 0.875rem 1rem;
      font-size: 1rem;
      font-family: var(--font-body);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      background: var(--color-bg);
      color: var(--color-text);
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    .search-box input:focus {
      outline: none;
      border-color: var(--color-accent);
      box-shadow: 0 0 0 3px var(--color-accent-light);
    }

    .search-box input::placeholder {
      color: var(--color-text-muted);
    }

    .filter-group {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }

    .filter-group label {
      font-size: 0.85rem;
      color: var(--color-text-muted);
      white-space: nowrap;
    }

    .filter-group select {
      padding: 0.875rem 1rem;
      font-size: 0.95rem;
      font-family: var(--font-body);
      border: 1px solid var(--color-border);
      border-radius: 8px;
      background: var(--color-bg);
      color: var(--color-text);
      cursor: pointer;
      min-width: 140px;
    }

    .filter-group select:focus {
      outline: none;
      border-color: var(--color-accent);
    }

    .reset-btn {
      padding: 0.875rem 1.25rem;
      font-size: 0.9rem;
      font-family: var(--font-body);
      background: var(--color-accent-light);
      color: var(--color-accent);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .reset-btn:hover {
      background: var(--color-border);
    }

    /* Results info */
    .results-info {
      font-size: 0.9rem;
      color: var(--color-text-muted);
      margin-bottom: 1.5rem;
    }

    /* Grid */
    .sightings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
    }

    /* Card */
    .sighting-card {
      background: var(--color-bg-card);
      border-radius: 12px;
      border: 1px solid var(--color-border);
      overflow: hidden;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .sighting-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(61, 90, 71, 0.08);
    }

    .card-image {
      aspect-ratio: 16/10;
      background: var(--color-accent-light);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .card-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .card-image .placeholder {
      color: var(--color-text-muted);
      font-size: 3rem;
      opacity: 0.3;
    }

    .card-content {
      padding: 1.5rem;
    }

    .species-name {
      font-family: var(--font-display);
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 0.25rem;
      line-height: 1.2;
    }

    .latin-name {
      font-family: var(--font-display);
      font-style: italic;
      font-size: 1rem;
      color: var(--color-text-muted);
      margin-bottom: 1rem;
    }

    .card-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      font-size: 0.9rem;
      color: var(--color-text-muted);
    }

    .meta-item {
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .meta-icon {
      width: 16px;
      height: 16px;
      opacity: 0.6;
    }

    /* Empty state */
    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--color-text-muted);
    }

    .empty-state h3 {
      font-family: var(--font-display);
      font-size: 1.5rem;
      font-weight: 400;
      margin-bottom: 0.5rem;
      color: var(--color-text);
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 3rem 2rem;
      margin-top: 4rem;
      border-top: 1px solid var(--color-border);
      color: var(--color-text-muted);
      font-size: 0.85rem;
    }

    /* Responsive */
    @media (max-width: 600px) {
      header {
        padding: 2.5rem 1.5rem 2rem;
      }

      main {
        padding: 1.5rem;
      }

      .controls {
        padding: 1rem;
      }

      .filter-group {
        width: 100%;
      }

      .filter-group select {
        flex: 1;
      }

      .sightings-grid {
        grid-template-columns: 1fr;
      }

      .stats {
        gap: 2rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Lintuhavainnot</h1>
    <p class="subtitle">1990 ‚Äì 2018</p>
    <div class="stats">
      <div class="stat">
        <span class="stat-number" id="totalSpecies">‚Äì</span>
        <span class="stat-label">Lajia</span>
      </div>
      <div class="stat">
        <span class="stat-number" id="totalYears">‚Äì</span>
        <span class="stat-label">Vuotta</span>
      </div>
      <div class="stat">
        <span class="stat-number" id="totalLocations">‚Äì</span>
        <span class="stat-label">Paikkaa</span>
      </div>
    </div>
  </header>

  <main>
    <div class="controls">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Hae lajia tai paikkaa...">
      </div>
      <div class="filter-group">
        <label for="yearFilter">Vuosi:</label>
        <select id="yearFilter">
          <option value="">Kaikki</option>
        </select>
      </div>
      <div class="filter-group">
        <label for="locationFilter">Paikka:</label>
        <select id="locationFilter">
          <option value="">Kaikki</option>
        </select>
      </div>
      <button class="reset-btn" id="resetBtn">Tyhjenn√§</button>
    </div>

    <p class="results-info" id="resultsInfo"></p>

    <div class="sightings-grid" id="sightingsGrid"></div>

    <div class="empty-state" id="emptyState" style="display: none;">
      <h3>Ei tuloksia</h3>
      <p>Kokeile eri hakuehtoja</p>
    </div>
  </main>

  <footer>
    <p>Tehty rakkaudella lintuharrastukselle</p>
  </footer>

  <script>
    // Bird sighting data (embedded for static deployment)
    const sightingsData = {"meta":{"title":"Omat Elikset","description":"Lintuhavainnot 1990‚Äì2018","lastUpdated":"2025-01-01"},"sightings":[{"id":1,"date":"1991-06-05","species":"Kaakkuri","location":null,"latinName":"Gavia stellata","image":null},{"id":2,"date":"1995-06-05","species":"Kuikka","location":null,"latinName":"Gavia arctica","image":null},{"id":3,"date":"1990-02-02","species":"J√§√§kuikka","location":"Ahvenanmaa","latinName":"Gavia immer","image":null},{"id":4,"date":"1990-03-24","species":"Pikku-uikku","location":"Ahvenanmaa","latinName":"Tachybaptus ruficollis","image":null},{"id":5,"date":"1990-03-24","species":"Mustakurkku-uikku","location":null,"latinName":"Podiceps auritus","image":null},{"id":6,"date":"1990-03-24","species":"H√§rk√§lintu","location":null,"latinName":"Podiceps grisegena","image":null},{"id":7,"date":"1990-03-24","species":"Silkkiuikku","location":null,"latinName":"Podiceps cristatus","image":null},{"id":8,"date":"1990-03-24","species":"Suula","location":"S√§kyl√§n Pyh√§j√§rvi","latinName":"Morus bassanus","image":null},{"id":9,"date":"1990-03-24","species":"Merimetso","location":null,"latinName":"Phalacrocorax carbo","image":null},{"id":10,"date":"1990-03-24","species":"Kaulushaikara","location":null,"latinName":"Botaurus stellaris","image":null},{"id":11,"date":"1990-03-31","species":"Harmaahaikara","location":null,"latinName":"Ardea cinerea","image":null},{"id":12,"date":"1990-03-31","species":"Kattohaikara","location":"Toukari","latinName":"Ciconia ciconia","image":null},{"id":13,"date":"1990-03-31","species":"Mustahaikara","location":"Puurij√§rvi","latinName":"Ciconia nigra","image":null},{"id":14,"date":"1990-03-31","species":"Kanadanhanhi","location":null,"latinName":"Branta canadensis","image":null},{"id":15,"date":"1990-03-31","species":"Valkoposkihanhi","location":null,"latinName":"Branta leucopsis","image":null},{"id":16,"date":"1990-03-31","species":"Sepelhanhi","location":"Yyteri","latinName":"Branta bernicla","image":null},{"id":17,"date":"1990-03-31","species":"Merihanhi","location":"Kuuminainen","latinName":"Anser anser","image":null},{"id":18,"date":"1990-04-01","species":"Tundrahanhi","location":null,"latinName":"Anser albifrons","image":null},{"id":19,"date":"1990-04-04","species":"Kiljuhanhi","location":"Puurij√§rvi","latinName":"Anser erythropus","image":null},{"id":20,"date":"1990-04-04","species":"Mets√§hanhi","location":null,"latinName":"Anser fabalis","image":null},{"id":21,"date":"1990-04-04","species":"Lyhytnokkahanhi","location":null,"latinName":"Anser brachyrhynchus","image":null},{"id":22,"date":"1990-04-07","species":"Kyhmyjoutsen","location":null,"latinName":"Cygnus olor","image":null},{"id":23,"date":"1990-04-07","species":"Laulujoutsen","location":null,"latinName":"Cygnus cygnus","image":null},{"id":24,"date":"1990-04-07","species":"Pikkujoutsen","location":null,"latinName":"Cygnus columbianus","image":null},{"id":25,"date":"1990-04-08","species":"Ristisorsa","location":null,"latinName":"Tadorna tadorna","image":null},{"id":26,"date":"1990-04-08","species":"Sinisorsa","location":null,"latinName":"Anas platyrhynchos","image":null},{"id":27,"date":"1990-04-08","species":"Tavi","location":null,"latinName":"Anas crecca","image":null},{"id":28,"date":"1990-04-12","species":"Harmaasorsa","location":"Kaarluoto","latinName":"Mareca strepera","image":null},{"id":29,"date":"1990-04-13","species":"Haapana","location":null,"latinName":"Mareca penelope","image":null},{"id":30,"date":"1990-04-13","species":"Jouhisorsa","location":null,"latinName":"Anas acuta","image":null},{"id":31,"date":"1990-04-13","species":"Hein√§tavi","location":null,"latinName":"Spatula querquedula","image":null},{"id":32,"date":"1990-04-13","species":"Lapasorsa","location":null,"latinName":"Spatula clypeata","image":null},{"id":33,"date":"1990-04-14","species":"Punasotka","location":null,"latinName":"Aythya ferina","image":null},{"id":34,"date":"1990-04-22","species":"Tukkasotka","location":null,"latinName":"Aythya fuligula","image":null},{"id":35,"date":"1990-04-28","species":"Lapasotka","location":null,"latinName":"Aythya marila","image":null},{"id":36,"date":"1990-04-28","species":"Haahka","location":null,"latinName":"Somateria mollissima","image":null},{"id":37,"date":"1990-04-28","species":"Kyhmyhaahka","location":"Tahkoluoto","latinName":"Somateria spectabilis","image":null},{"id":38,"date":"1990-04-28","species":"Allihaahka","location":null,"latinName":"Polysticta stelleri","image":null},{"id":39,"date":"1990-04-28","species":"Mustalintu","location":null,"latinName":"Melanitta nigra","image":null},{"id":40,"date":"1990-04-28","species":"Pilkkasiipi","location":null,"latinName":"Melanitta fusca","image":null},{"id":41,"date":"1990-04-28","species":"Alli","location":null,"latinName":"Clangula hyemalis","image":null},{"id":42,"date":"1990-04-28","species":"Telkk√§","location":null,"latinName":"Bucephala clangula","image":null},{"id":43,"date":"1990-05-04","species":"Uivelo","location":null,"latinName":"Mergellus albellus","image":null},{"id":44,"date":"1990-05-06","species":"Tukkakoskelo","location":null,"latinName":"Mergus serrator","image":null},{"id":45,"date":"1990-05-06","species":"Isokoskelo","location":null,"latinName":"Mergus merganser","image":null},{"id":46,"date":"1990-05-06","species":"Kalas√§√§ski","location":null,"latinName":"Pandion haliaetus","image":null},{"id":47,"date":"1990-05-06","species":"Mehil√§ishaukka","location":"Ahlainen","latinName":"Pernis apivorus","image":null},{"id":48,"date":"1990-05-06","species":"Isohaarahaukka","location":"Nakkila Leistil√§j√§rvi","latinName":"Milvus milvus","image":null},{"id":49,"date":"1990-06-05","species":"Haarahaukka","location":"K√∂yli√∂ Hallavaara","latinName":"Milvus migrans","image":null},{"id":50,"date":"1990-06-05","species":"Kanahaukka","location":null,"latinName":"Accipiter gentilis","image":null},{"id":51,"date":"1990-06-05","species":"Varpushaukka","location":null,"latinName":"Accipiter nisus","image":null},{"id":52,"date":"1990-06-20","species":"Piekana","location":"N√§rpi√∂","latinName":"Buteo lagopus","image":null},{"id":53,"date":"1990-08-04","species":"Hiirihaukka","location":null,"latinName":"Buteo buteo","image":null},{"id":54,"date":"1990-08-04","species":"Kiljukotka","location":null,"latinName":"Clanga pomarina","image":null},{"id":55,"date":"1990-08-04","species":"Pikkukiljukotka","location":"Puurij√§rvi","latinName":"Clanga pomarina","image":null},{"id":56,"date":"1990-08-04","species":"Kotka","location":"Ahvenanmaa","latinName":"Aquila chrysaetos","image":null},{"id":57,"date":"1990-08-04","species":"Merikotka","location":"Sookari","latinName":"Haliaeetus albicilla","image":null},{"id":58,"date":"1990-08-04","species":"Sinisuohaukka","location":null,"latinName":"Circus cyaneus","image":null},{"id":59,"date":"1990-08-14","species":"Arosuohaukka","location":"Leki","latinName":"Circus macrourus","image":null},{"id":60,"date":"1990-08-14","species":"Ruskosuohaukka","location":null,"latinName":"Circus aeruginosus","image":null},{"id":61,"date":"1990-08-14","species":"Niittysuohaukka","location":"Liminka","latinName":"Circus pygargus","image":null},{"id":62,"date":"1990-08-14","species":"Tunturihaukka","location":"Huittinen","latinName":"Falco rusticolus","image":null},{"id":63,"date":"1990-08-14","species":"Muuttohaukka","location":"N√§rpi√∂","latinName":"Falco peregrinus","image":null},{"id":64,"date":"1990-08-14","species":"Nuolihaukka","location":null,"latinName":"Falco subbuteo","image":null},{"id":65,"date":"1990-08-20","species":"Ampuhaukka","location":null,"latinName":"Falco columbarius","image":null},{"id":66,"date":"1990-09-08","species":"Punajalkahaukka","location":"Pitk√§j√§rvi","latinName":"Falco vespertinus","image":null},{"id":67,"date":"1990-09-08","species":"Tuulihaukka","location":null,"latinName":"Falco tinnunculus","image":null},{"id":68,"date":"1990-09-08","species":"Riekko","location":"Kauhaneva","latinName":"Lagopus lagopus","image":null},{"id":69,"date":"1990-09-10","species":"Teeri","location":"Sookari","latinName":"Lyrurus tetrix","image":null},{"id":70,"date":"1990-10-03","species":"Metso","location":null,"latinName":"Tetrao urogallus","image":null},{"id":71,"date":"1990-10-07","species":"Pyy","location":"Huittinen","latinName":"Tetrastes bonasia","image":null},{"id":72,"date":"1990-10-07","species":"Viiri√§inen","location":"Laviantie","latinName":"Coturnix coturnix","image":null},{"id":73,"date":"1990-10-07","species":"Fasaani","location":null,"latinName":"Phasianus colchicus","image":null},{"id":74,"date":"1990-11-04","species":"Kurki","location":null,"latinName":"Grus grus","image":null},{"id":75,"date":"1991-01-13","species":"Luhtakana","location":"En√§j√§rvi","latinName":"Rallus aquaticus","image":null},{"id":76,"date":"1991-01-13","species":"Luhtahuitti","location":"Domargoben","latinName":"Porzana porzana","image":null},{"id":77,"date":"1991-03-23","species":"Ruisr√§√§kk√§","location":"Toukari","latinName":"Crex crex","image":null},{"id":78,"date":"1991-03-27","species":"Liejukana","location":null,"latinName":"Gallinula chloropus","image":null},{"id":79,"date":"1991-03-28","species":"Nokikana","location":null,"latinName":"Fulica atra","image":null},{"id":80,"date":"1991-03-28","species":"Meriharakka","location":null,"latinName":"Haematopus ostralegus","image":null},{"id":81,"date":"1991-06-10","species":"Tylli","location":null,"latinName":"Charadrius hiaticula","image":null},{"id":82,"date":"1991-06-10","species":"Pikkutylli","location":null,"latinName":"Charadrius dubius","image":null},{"id":83,"date":"1991-06-23","species":"Mustajalkatylli","location":null,"latinName":"Charadrius alexandrinus","image":null},{"id":84,"date":"1991-09-29","species":"Ker√§kurmitsa","location":"Yyteri lietteet","latinName":"Charadrius morinellus","image":null},{"id":85,"date":"1991-09-29","species":"Kapustarinta","location":null,"latinName":"Pluvialis apricaria","image":null},{"id":86,"date":"1991-09-30","species":"Tundrakurmitsa","location":null,"latinName":"Pluvialis squatarola","image":null},{"id":87,"date":"1991-09-30","species":"T√∂yht√∂hyypp√§","location":null,"latinName":"Vanellus vanellus","image":null},{"id":88,"date":"1991-10-04","species":"Karikukko","location":null,"latinName":"Arenaria interpres","image":null},{"id":89,"date":"1991-11-30","species":"Pikkusirri","location":null,"latinName":"Calidris minuta","image":null},{"id":90,"date":"1991-12-07","species":"Lapinsirri","location":null,"latinName":"Calidris temminckii","image":null},{"id":91,"date":"1992-02-16","species":"Merisirri","location":null,"latinName":"Calidris maritima","image":null},{"id":92,"date":"1992-04-09","species":"Suosirri","location":null,"latinName":"Calidris alpina","image":null},{"id":93,"date":"1992-04-14","species":"Kuovisirri","location":null,"latinName":"Calidris ferruginea","image":null},{"id":94,"date":"1992-05-03","species":"Isosirri","location":null,"latinName":"Calidris canutus","image":null},{"id":95,"date":"1992-05-03","species":"Pulmussirri","location":null,"latinName":"Calidris alba","image":null},{"id":96,"date":"1992-05-03","species":"Suokukko","location":null,"latinName":"Calidris pugnax","image":null},{"id":97,"date":"1992-05-03","species":"J√§nk√§sirri√§inen","location":"Yyteri","latinName":"Calidris falcinellus","image":null},{"id":98,"date":"1992-05-03","species":"Mustaviklo","location":null,"latinName":"Tringa erythropus","image":null},{"id":99,"date":"1992-05-23","species":"Punajalkaviklo","location":null,"latinName":"Tringa totanus","image":null},{"id":100,"date":"1992-09-10","species":"Valkoviklo","location":null,"latinName":"Tringa nebularia","image":null},{"id":101,"date":"1992-09-26","species":"Mets√§viklo","location":null,"latinName":"Tringa ochropus","image":null},{"id":102,"date":"1992-10-10","species":"Liro","location":null,"latinName":"Tringa glareola","image":null},{"id":103,"date":"1993-02-22","species":"Rantasipi","location":null,"latinName":"Actitis hypoleucos","image":null},{"id":104,"date":"1993-04-10","species":"Rantakurvi","location":"Yyteri","latinName":"Xenus cinereus","image":null},{"id":105,"date":"1993-05-22","species":"Mustapyrst√∂kuiri","location":"Niitty","latinName":"Limosa limosa","image":null},{"id":106,"date":"1993-05-23","species":"Punakuiri","location":null,"latinName":"Limosa lapponica","image":null},{"id":107,"date":"1993-06-20","species":"Isokuovi","location":null,"latinName":"Numenius arquata","image":null},{"id":108,"date":"1993-06-20","species":"Pikkukuovi","location":null,"latinName":"Numenius phaeopus","image":null},{"id":109,"date":"1993-06-20","species":"Lehtokurppa","location":null,"latinName":"Scolopax rusticola","image":null},{"id":110,"date":"1993-08-10","species":"Taivaanvuohi","location":null,"latinName":"Gallinago gallinago","image":null},{"id":111,"date":"1993-08-21","species":"Hein√§kurppa","location":null,"latinName":"Gallinago media","image":null},{"id":112,"date":"1993-08-26","species":"J√§nk√§kurppa","location":null,"latinName":"Lymnocryptes minimus","image":null},{"id":113,"date":"1993-12-04","species":"Avosetti","location":"Yyteri","latinName":"Recurvirostra avosetta","image":null},{"id":114,"date":"1994-01-08","species":"Vesip√§√§sky","location":"Yyteri","latinName":"Phalaropus lobatus","image":null},{"id":115,"date":"1994-01-16","species":"Paksujalka","location":"Maaviiki","latinName":"Burhinus oedicnemus","image":null},{"id":116,"date":"1994-01-16","species":"Merikihu","location":null,"latinName":"Stercorarius parasiticus","image":null},{"id":117,"date":"1994-03-11","species":"Pikkulokki","location":null,"latinName":"Hydrocoloeus minutus","image":null},{"id":118,"date":"1994-03-22","species":"Naurulokki","location":null,"latinName":"Chroicocephalus ridibundus","image":null},{"id":119,"date":"1994-03-22","species":"Selk√§lokki","location":null,"latinName":"Larus fuscus","image":null},{"id":120,"date":"1994-04-04","species":"Harmaalokki","location":null,"latinName":"Larus argentatus","image":null},{"id":121,"date":"1994-04-12","species":"Gr√∂nlanninlokki","location":"R√§ps√∂√∂","latinName":"Larus glaucoides","image":null},{"id":122,"date":"1994-07-04","species":"Isolokki","location":null,"latinName":"Larus hyperboreus","image":null},{"id":123,"date":"1994-08-13","species":"Merilokki","location":null,"latinName":"Larus marinus","image":null},{"id":124,"date":"1994-08-18","species":"Kalalokki","location":null,"latinName":"Larus canus","image":null},{"id":125,"date":"1994-08-20","species":"Pikkukajava","location":"Reposaari","latinName":"Rissa tridactyla","image":null},{"id":126,"date":"1995-03-29","species":"Mustatiira","location":"En√§j√§rvi","latinName":"Chlidonias niger","image":null},{"id":127,"date":"1995-05-06","species":"R√§ysk√§","location":null,"latinName":"Hydroprogne caspia","image":null},{"id":128,"date":"1995-06-25","species":"Riuttatiira","location":"Karhuluoto","latinName":"Sterna paradisaea","image":null},{"id":129,"date":"1995-06-25","species":"Kalatiira","location":null,"latinName":"Sterna hirundo","image":null},{"id":130,"date":"1996-02-24","species":"Lapintiira","location":null,"latinName":"Sterna paradisaea","image":null},{"id":131,"date":"1996-04-08","species":"Pikkutiira","location":"Kalajoki","latinName":"Sternula albifrons","image":null},{"id":132,"date":"1996-04-15","species":"Pikkuruokki","location":"Tahkoluoto","latinName":"Alle alle","image":null},{"id":133,"date":"1996-04-16","species":"Ruokki","location":"Tahkoluoto, Ahvenanmaa","latinName":"Alca torda","image":null},{"id":134,"date":"1996-04-17","species":"Sepelkyyhky","location":null,"latinName":"Columba palumbus","image":null},{"id":135,"date":"1996-04-18","species":"Uuttukyyhky","location":null,"latinName":"Columba oenas","image":null},{"id":136,"date":"1996-04-19","species":"Turkinkyyhky","location":null,"latinName":"Streptopelia decaocto","image":null},{"id":137,"date":"1996-04-20","species":"Turturikyyhky","location":null,"latinName":"Streptopelia turtur","image":null},{"id":138,"date":"1996-04-21","species":"K√§ki","location":null,"latinName":"Cuculus canorus","image":null},{"id":139,"date":"1996-04-22","species":"Tunturip√∂ll√∂","location":"Leve√§kari","latinName":"Bubo scandiacus","image":null},{"id":140,"date":"1996-04-23","species":"Huuhkaja","location":"Kellahti","latinName":"Bubo bubo","image":null},{"id":141,"date":"1996-05-06","species":"Sarvip√∂ll√∂","location":"Musa","latinName":"Asio otus","image":null},{"id":142,"date":"1996-05-18","species":"Suop√∂ll√∂","location":null,"latinName":"Asio flammeus","image":null},{"id":143,"date":"1996-07-04","species":"Helmip√∂ll√∂","location":null,"latinName":"Aegolius funereus","image":null},{"id":144,"date":"1996-10-04","species":"Hiirip√∂ll√∂","location":"Kirjurinluoto","latinName":"Surnia ulula","image":null},{"id":145,"date":"1997-09-06","species":"Lehtop√∂ll√∂","location":"Kellahti","latinName":"Strix aluco","image":null},{"id":146,"date":"1998-04-19","species":"Viirup√∂ll√∂","location":"Lauhavuori","latinName":"Strix uralensis","image":null},{"id":147,"date":"1998-04-19","species":"Lapinp√∂ll√∂","location":"Laitila","latinName":"Strix nebulosa","image":null},{"id":148,"date":"1998-08-05","species":"Kehr√§√§j√§","location":null,"latinName":"Caprimulgus europaeus","image":null},{"id":149,"date":"1998-10-03","species":"Tervap√§√§sky","location":null,"latinName":"Apus apus","image":null},{"id":150,"date":"1999-09-22","species":"Kuningaskalastaja","location":"Ahvenanmaa","latinName":"Alcedo atthis","image":null},{"id":151,"date":"1999-03-23","species":"Mehil√§issy√∂j√§","location":"Toukari","latinName":"Merops apiaster","image":null},{"id":152,"date":"2000-04-08","species":"Sinin√§rhi","location":"Reposaari","latinName":"Coracias garrulus","image":null},{"id":153,"date":"2000-07-27","species":"K√§enpiika","location":"Toukari","latinName":"Jynx torquilla","image":null},{"id":154,"date":"2002-03-29","species":"Harmaap√§√§tikka","location":"Takaniitynvuori Nousiainen","latinName":"Picus canus","image":null},{"id":155,"date":"2003-05-03","species":"Palok√§rki","location":null,"latinName":"Dryocopus martius","image":null},{"id":156,"date":"2003-05-19","species":"K√§pytikka","location":null,"latinName":"Dendrocopos major","image":null},{"id":157,"date":"2003-07-03","species":"Valkoselk√§tikka","location":"H√§rk√§luoto","latinName":"Dendrocopos leucotos","image":null},{"id":158,"date":"2003-07-07","species":"Pikkutikka","location":"Saukonniemi","latinName":"Dryobates minor","image":null},{"id":159,"date":"2003-07-22","species":"Pohjantikka","location":"Leve√§kari","latinName":"Picoides tridactylus","image":null},{"id":160,"date":"2005-06-20","species":"Tunturikiuru","location":"Verkkokari","latinName":"Eremophila alpestris","image":null},{"id":161,"date":"2006-06-29","species":"T√∂yht√∂kiuru","location":"Paarmantie 5 TOEJOKI","latinName":"Galerida cristata","image":null},{"id":162,"date":"2010-01-07","species":"Kangaskiuru","location":"Kuuminainen","latinName":"Lullula arborea","image":null},{"id":163,"date":"2014-03-15","species":"Kiuru","location":null,"latinName":"Alauda arvensis","image":null},{"id":164,"date":"2014-06-06","species":"T√∂rm√§p√§√§sky","location":null,"latinName":"Riparia riparia","image":null},{"id":165,"date":"2014-12-04","species":"Haarap√§√§sky","location":null,"latinName":"Hirundo rustica","image":null},{"id":166,"date":"1995-06-19","species":"R√§yst√§sp√§√§sky","location":null,"latinName":"Delichon urbicum","image":null},{"id":167,"date":"1990-01-01","species":"Mets√§kirvinen","location":null,"latinName":"Anthus trivialis","image":null},{"id":168,"date":"1991-09-28","species":"Niittykirvinen","location":null,"latinName":"Anthus pratensis","image":null},{"id":169,"date":"1998-08-18","species":"Luotokirvinen","location":null,"latinName":"Anthus petrosus","image":null},{"id":170,"date":"1990-04-07","species":"V√§st√§r√§kki","location":null,"latinName":"Motacilla alba","image":null},{"id":171,"date":"1991-06-15","species":"Keltav√§st√§r√§kki","location":null,"latinName":"Motacilla flava","image":null},{"id":172,"date":"1994-01-07","species":"Virtav√§st√§r√§kki","location":"Ahvenanmaa","latinName":"Motacilla cinerea","image":null},{"id":173,"date":"1992-08-15","species":"Pikkulepink√§inen","location":null,"latinName":"Lanius collurio","image":null},{"id":174,"date":"1990-10-08","species":"Mustaotsalepink√§inen","location":null,"latinName":"Lanius minor","image":null},{"id":175,"date":"1990-10-07","species":"Lapinharakka","location":null,"latinName":"Lanius excubitor","image":null},{"id":176,"date":"1990-09-30","species":"Tilhi","location":null,"latinName":"Bombycilla garrulus","image":null},{"id":177,"date":"1991-01-18","species":"Koskikara","location":null,"latinName":"Cinclus cinclus","image":null},{"id":178,"date":"1992-05-03","species":"Peukaloinen","location":null,"latinName":"Troglodytes troglodytes","image":null},{"id":179,"date":"1990-05-06","species":"Rautiainen","location":null,"latinName":"Prunella modularis","image":null},{"id":180,"date":"2005-06-21","species":"Ruokosirkkalintu","location":"En√§j√§rvi","latinName":"Locustella luscinioides","image":null},{"id":181,"date":"1995-06-18","species":"Viitasirkkalintu","location":"Luotsinm√§ki","latinName":"Locustella fluviatilis","image":null},{"id":182,"date":"2016-05-02","species":"Pensassirkkalintu","location":"Preiviiki","latinName":"Locustella naevia","image":null},{"id":183,"date":"1991-06-10","species":"Ruokokerttunen","location":null,"latinName":"Acrocephalus schoenobaenus","image":null},{"id":184,"date":"1999-06-20","species":"Viitakerttunen","location":null,"latinName":"Acrocephalus dumetorum","image":null},{"id":185,"date":"1992-05-30","species":"Luhtakerttunen","location":null,"latinName":"Acrocephalus palustris","image":null},{"id":186,"date":"1999-05-26","species":"Rastaskerttunen","location":"Kaarluoto","latinName":"Acrocephalus arundinaceus","image":null},{"id":187,"date":"1993-05-22","species":"Kultarinta","location":null,"latinName":"Hippolais icterina","image":null},{"id":188,"date":"2016-05-25","species":"Lehtokerttu","location":"Toukari","latinName":"Sylvia borin","image":null},{"id":189,"date":"1991-06-30","species":"Mustap√§√§kerttu","location":null,"latinName":"Sylvia atricapilla","image":null},{"id":190,"date":"1994-08-18","species":"Pensaskerttu","location":null,"latinName":"Curruca communis","image":null},{"id":191,"date":"1994-04-18","species":"Hernekerttu","location":null,"latinName":"Curruca curruca","image":null},{"id":192,"date":"1990-04-28","species":"Pajulintu","location":null,"latinName":"Phylloscopus trochilus","image":null},{"id":193,"date":"1992-05-23","species":"Tiltaltti","location":null,"latinName":"Phylloscopus collybita","image":null},{"id":194,"date":"1992-06-30","species":"Siritt√§j√§","location":null,"latinName":"Phylloscopus sibilatrix","image":null},{"id":195,"date":"2016-05-25","species":"Id√§nuunilintu","location":"Toukari","latinName":"Phylloscopus trochiloides","image":null},{"id":196,"date":"1991-02-18","species":"Hippi√§inen","location":null,"latinName":"Regulus regulus","image":null},{"id":197,"date":"1991-06-22","species":"Kirjosieppo","location":null,"latinName":"Ficedula hypoleuca","image":null},{"id":198,"date":"2016-05-20","species":"Pikkusieppo","location":"En√§j√§rvi","latinName":"Ficedula parva","image":null},{"id":199,"date":"1992-09-20","species":"Harmaasieppo","location":null,"latinName":"Muscicapa striata","image":null},{"id":200,"date":"1994-08-18","species":"Pensastasku","location":null,"latinName":"Saxicola rubetra","image":null},{"id":201,"date":"1992-09-25","species":"Sepeltasku","location":"Kilkrun maura","latinName":"Saxicola maurus","image":null},{"id":202,"date":"1990-08-14","species":"Kivitasku","location":null,"latinName":"Oenanthe oenanthe","image":null},{"id":203,"date":"1994-09-29","species":"Mustalepp√§lintu","location":"Salo","latinName":"Phoenicurus ochruros","image":null},{"id":204,"date":"1992-09-25","species":"Lepp√§lintu","location":null,"latinName":"Phoenicurus phoenicurus","image":null},{"id":205,"date":"1993-04-10","species":"Punarinta","location":null,"latinName":"Erithacus rubecula","image":null},{"id":206,"date":"2011-06-10","species":"Etel√§nsatakieli","location":null,"latinName":"Luscinia megarhynchos","image":null},{"id":207,"date":"1992-05-30","species":"Satakieli","location":null,"latinName":"Luscinia luscinia","image":null},{"id":208,"date":"1997-06-30","species":"Sinipyrst√∂","location":"Mouhij√§rvi","latinName":"Tarsiger cyanurus","image":null},{"id":209,"date":"1990-04-21","species":"R√§k√§ttirastas","location":null,"latinName":"Turdus pilaris","image":null},{"id":210,"date":"1995-04-30","species":"Sepelrastas","location":null,"latinName":"Turdus torquatus","image":null},{"id":211,"date":"1991-02-18","species":"Mustarastas","location":null,"latinName":"Turdus merula","image":null},{"id":212,"date":"1990-10-13","species":"Punakylkirastas","location":null,"latinName":"Turdus iliacus","image":null},{"id":213,"date":"1991-10-13","species":"Laulurastas","location":null,"latinName":"Turdus philomelos","image":null},{"id":214,"date":"1993-04-08","species":"Kulorastas","location":null,"latinName":"Turdus viscivorus","image":null},{"id":215,"date":"1991-10-27","species":"Partatimali","location":null,"latinName":"Panurus biarmicus","image":null},{"id":216,"date":"1991-10-07","species":"Pyrst√∂tiainen","location":null,"latinName":"Aegithalos caudatus","image":null},{"id":217,"date":"2003-04-27","species":"Pussitiainen","location":"M√§ntyluoto","latinName":"Remiz pendulinus","image":null},{"id":218,"date":"1990-11-04","species":"H√∂m√∂tiainen","location":null,"latinName":"Poecile montanus","image":null},{"id":219,"date":"1991-01-13","species":"Kuusitiainen","location":null,"latinName":"Periparus ater","image":null},{"id":220,"date":"1992-11-05","species":"Lapintiainen","location":"Kuuminainen","latinName":"Poecile cinctus","image":null},{"id":221,"date":"1990-11-04","species":"T√∂yht√∂tiainen","location":null,"latinName":"Lophophanes cristatus","image":null},{"id":222,"date":"1990-04-28","species":"Sinitiainen","location":null,"latinName":"Cyanistes caeruleus","image":null},{"id":223,"date":"1990-02-01","species":"Talitiainen","location":null,"latinName":"Parus major","image":null},{"id":224,"date":"1995-11-11","species":"P√§hkin√§nakkeli","location":null,"latinName":"Sitta europaea","image":null},{"id":225,"date":"1991-02-18","species":"Puukiipij√§","location":null,"latinName":"Certhia familiaris","image":null},{"id":226,"date":"1992-02-16","species":"Keltasirkku","location":null,"latinName":"Emberiza citrinella","image":null},{"id":227,"date":"2017-10-24","species":"Peltosirkku","location":"Liminka","latinName":"Emberiza hortulana","image":null},{"id":228,"date":"1995-06-26","species":"Pikkusirkku","location":"Yyteri surffiranta","latinName":"Emberiza pusilla","image":null},{"id":229,"date":"1995-06-21","species":"Pohjansirkku","location":"Martimoaapa ii","latinName":"Emberiza rustica","image":null},{"id":230,"date":"1990-04-04","species":"Pajusirkku","location":null,"latinName":"Emberiza schoeniclus","image":null},{"id":231,"date":"1990-09-08","species":"Lapinsirkku","location":"Leistil√§nj√§rvi","latinName":"Calcarius lapponicus","image":null},{"id":232,"date":"1990-04-08","species":"Pulmunen","location":null,"latinName":"Plectrophenax nivalis","image":null},{"id":233,"date":"1990-04-01","species":"Peippo","location":null,"latinName":"Fringilla coelebs","image":null},{"id":234,"date":"1990-04-04","species":"J√§rripeippo","location":null,"latinName":"Fringilla montifringilla","image":null},{"id":235,"date":"1999-05-08","species":"Keltahemppo","location":"M√§ntyluoto","latinName":"Serinus serinus","image":null},{"id":236,"date":"1990-04-04","species":"Viherpeippo","location":null,"latinName":"Chloris chloris","image":null},{"id":237,"date":"1990-04-28","species":"Vihervarpunen","location":null,"latinName":"Spinus spinus","image":null},{"id":238,"date":"1990-11-11","species":"Tikli","location":null,"latinName":"Carduelis carduelis","image":null},{"id":239,"date":"1997-02-09","species":"Vuorihemppo","location":"Ahvenanmaa","latinName":"Linaria flavirostris","image":null},{"id":240,"date":"1990-04-04","species":"Hemppo","location":null,"latinName":"Linaria cannabina","image":null},{"id":241,"date":"1990-09-06","species":"Urpiainen","location":null,"latinName":"Acanthis flammea","image":null},{"id":242,"date":"1994-04-14","species":"Tundraurpiainen","location":null,"latinName":"Acanthis hornemanni","image":null},{"id":243,"date":"1991-06-10","species":"Punavarpunen","location":null,"latinName":"Carpodacus erythrinus","image":null},{"id":244,"date":"1993-11-15","species":"Taviokuurna","location":"Lampaluoto","latinName":"Pinicola enucleator","image":null},{"id":245,"date":"2003-01-05","species":"Kirjosiipik√§pylintu","location":"Reposaari","latinName":"Loxia leucoptera","image":null},{"id":246,"date":"1993-02-08","species":"Isok√§pylintu","location":null,"latinName":"Loxia pytyopsittacus","image":null},{"id":247,"date":"1990-09-22","species":"Pikkuk√§pylintu","location":null,"latinName":"Loxia curvirostra","image":null},{"id":248,"date":"1991-01-13","species":"Punatulkku","location":null,"latinName":"Pyrrhula pyrrhula","image":null},{"id":249,"date":"2003-04-26","species":"Nokkavarpunen","location":"Talonpojantie","latinName":"Coccothraustes coccothraustes","image":null},{"id":250,"date":"1990-05-04","species":"Varpunen","location":null,"latinName":"Passer domesticus","image":null},{"id":251,"date":"1992-04-14","species":"Pikkuvarpunen","location":null,"latinName":"Passer montanus","image":null},{"id":252,"date":"1990-04-04","species":"Kottarainen","location":null,"latinName":"Sturnus vulgaris","image":null},{"id":253,"date":"1990-10-20","species":"N√§rhi","location":null,"latinName":"Garrulus glandarius","image":null},{"id":254,"date":"1990-04-04","species":"Harakka","location":null,"latinName":"Pica pica","image":null},{"id":255,"date":"1991-01-15","species":"P√§hkin√§hakki","location":null,"latinName":"Nucifraga caryocatactes","image":null},{"id":256,"date":"1990-04-01","species":"Naakka","location":null,"latinName":"Coloeus monedula","image":null},{"id":257,"date":"1990-04-01","species":"Mustavaris","location":null,"latinName":"Corvus frugilegus","image":null},{"id":258,"date":"1990-04-01","species":"Varis","location":null,"latinName":"Corvus cornix","image":null},{"id":259,"date":"1990-04-13","species":"Korppi","location":null,"latinName":"Corvus corax","image":null},{"id":260,"date":"1993-04-06","species":"Jalohaikara","location":"Nokia","latinName":"Ardea alba","image":null},{"id":261,"date":"1993-05-24","species":"Kaitanokkalokki","location":"Yyteri","latinName":"Chroicocephalus genei","image":null},{"id":262,"date":"1994-08-20","species":"Ruostesorsa","location":"Yyteri","latinName":"Tadorna ferruginea","image":null},{"id":263,"date":"1996-05-18","species":"Sinisiipitavi","location":"Preiviiki","latinName":"Spatula discors","image":null},{"id":264,"date":"1996-09-22","species":"Siperiankurmitsa","location":"√Ñets√§","latinName":"Pluvialis fulva","image":null},{"id":265,"date":"2012-04-24","species":"Arohyypp√§","location":"Jokioinen","latinName":"Vanellus gregarius","image":null},{"id":266,"date":"1993-09-19","species":"Tundraviklo","location":"Leve√§kari","latinName":"Tringa stagnatilis","image":null},{"id":267,"date":"1991-09-19","species":"Pitk√§nokkakurppelo","location":null,"latinName":"Limnodromus scolopaceus","image":null},{"id":268,"date":"2017-06-06","species":"Lampiviklo","location":"Levon lampi","latinName":"Tringa stagnatilis","image":null},{"id":269,"date":"1998-07-26","species":"Valkosiipitiira","location":"Pihlavanlahti","latinName":"Chlidonias leucopterus","image":null},{"id":270,"date":"1993-12-26","species":"Arokiuru","location":"K√∂yli√∂","latinName":"Melanocorypha calandra","image":null},{"id":271,"date":"1991-06-30","species":"Mongoliankirvinen","location":"Lampaluoto","latinName":"Anthus godlewskii","image":null},{"id":272,"date":"1991-06-30","species":"Sitruunav√§st√§r√§kki","location":"Yyteri","latinName":"Motacilla citreola","image":null},{"id":273,"date":"2011-11-12","species":"Arotasku","location":"Kirrisanta","latinName":"Saxicola maura","image":null},{"id":274,"date":"1994-10-09","species":"Nunnatasku","location":"M√§ntyluoto","latinName":"Oenanthe pleschanka","image":null},{"id":275,"date":"2003-03-08","species":"Mustakaularastas","location":"Hallavaaran kaatopaikka","latinName":"Turdus atrogularis","image":null},{"id":276,"date":"2017-05-31","species":"Kentt√§kerttunen","location":"Sannannokka","latinName":"Acrocephalus agricola","image":null},{"id":277,"date":"2000-10-14","species":"Hippi√§isuunilintu","location":"Tahkoluodon satama","latinName":"Phylloscopus proregulus","image":null},{"id":278,"date":"2011-09-01","species":"Punapyrst√∂lepink√§inen","location":"Leistil√§nj√§rvi","latinName":"Lanius isabellinus","image":null},{"id":279,"date":"2016-05-05","species":"Y√∂haikara","location":"Yyteri lietteet","latinName":"Nycticorax nycticorax","image":null},{"id":280,"date":"2011-11-12","species":"K√§√§pi√∂kerttu","location":"Tahkoluodon satama","latinName":"Curruca nana","image":null},{"id":281,"date":"2018-10-12","species":"Punap√§√§lepink√§inen","location":"Maaviiki, Eurajoki","latinName":"Lanius senator","image":null},{"id":282,"date":"2018-05-03","species":"Punap√§√§narsku","location":"S√§kyl√§ keskustan ranta","latinName":"Erythrina erythrina","image":null},{"id":283,"date":"2010-10-09","species":"Nokitasku","location":"Domargoben","latinName":"Oenanthe hispanica","image":null},{"id":284,"date":"2016-11-02","species":"Preeriakahlaaja","location":"Leistil√§nj√§rvi","latinName":"Bartramia longicauda","image":null},{"id":285,"date":"2017-09-26","species":"Taigauunilintu","location":"Toukari Rantam√§ki","latinName":"Phylloscopus inornatus","image":null},{"id":286,"date":"2013-01-01","species":"Samettip√§√§kerttu","location":"Reposaari","latinName":"Curruca melanocephala","image":null},{"id":287,"date":"2018-04-19","species":"Amerikantavi","location":"Levon lampi","latinName":"Anas carolinensis","image":null},{"id":288,"date":"2018-05-29","species":"Kyl√§p√∂ll√∂nen","location":"Siipyy Gamlav√§gen","latinName":"Athene noctua","image":null},{"id":289,"date":"2018-09-11","species":"Amerikantukkasotka","location":"Leve√§kari","latinName":"Aythya affinis","image":null},{"id":290,"date":"2018-09-19","species":"Etel√§nisolepink√§inen","location":"Maaviiki","latinName":"Lanius meridionalis","image":null}]};

    // App state
    let sightings = sightingsData.sightings;
    let filteredSightings = [...sightings];

    // DOM elements
    const searchInput = document.getElementById('searchInput');
    const yearFilter = document.getElementById('yearFilter');
    const locationFilter = document.getElementById('locationFilter');
    const resetBtn = document.getElementById('resetBtn');
    const sightingsGrid = document.getElementById('sightingsGrid');
    const resultsInfo = document.getElementById('resultsInfo');
    const emptyState = document.getElementById('emptyState');
    const totalSpecies = document.getElementById('totalSpecies');
    const totalYears = document.getElementById('totalYears');
    const totalLocations = document.getElementById('totalLocations');

    // Initialize
    function init() {
      populateFilters();
      updateStats();
      renderSightings();
      setupEventListeners();
    }

    // Populate filter dropdowns
    function populateFilters() {
      // Years
      const years = [...new Set(sightings.map(s => new Date(s.date).getFullYear()))].sort((a, b) => b - a);
      years.forEach(year => {
        const option = document.createElement('option');
        option.value = year;
        option.textContent = year;
        yearFilter.appendChild(option);
      });

      // Locations
      const locations = [...new Set(sightings.map(s => s.location).filter(Boolean))].sort();
      locations.forEach(location => {
        const option = document.createElement('option');
        option.value = location;
        option.textContent = location;
        locationFilter.appendChild(option);
      });
    }

    // Update stats
    function updateStats() {
      totalSpecies.textContent = sightings.length;
      const years = new Set(sightings.map(s => new Date(s.date).getFullYear()));
      totalYears.textContent = years.size;
      const locations = new Set(sightings.map(s => s.location).filter(Boolean));
      totalLocations.textContent = locations.size;
    }

    // Filter sightings
    function filterSightings() {
      const searchTerm = searchInput.value.toLowerCase().trim();
      const selectedYear = yearFilter.value;
      const selectedLocation = locationFilter.value;

      filteredSightings = sightings.filter(s => {
        // Search filter
        const matchesSearch = !searchTerm || 
          s.species.toLowerCase().includes(searchTerm) ||
          (s.latinName && s.latinName.toLowerCase().includes(searchTerm)) ||
          (s.location && s.location.toLowerCase().includes(searchTerm));

        // Year filter
        const sightingYear = new Date(s.date).getFullYear();
        const matchesYear = !selectedYear || sightingYear === parseInt(selectedYear);

        // Location filter
        const matchesLocation = !selectedLocation || s.location === selectedLocation;

        return matchesSearch && matchesYear && matchesLocation;
      });

      renderSightings();
    }

    // Format date in Finnish
    function formatDate(dateStr) {
      const date = new Date(dateStr);
      const day = date.getDate();
      const month = date.getMonth() + 1;
      const year = date.getFullYear();
      return `${day}.${month}.${year}`;
    }

    // Render sightings
    function renderSightings() {
      // Sort by date (newest first)
      const sorted = [...filteredSightings].sort((a, b) => new Date(b.date) - new Date(a.date));

      // Update results info
      resultsInfo.textContent = `N√§ytet√§√§n ${sorted.length} / ${sightings.length} havaintoa`;

      // Show/hide empty state
      if (sorted.length === 0) {
        emptyState.style.display = 'block';
        sightingsGrid.innerHTML = '';
        return;
      }
      emptyState.style.display = 'none';

      // Render cards
      sightingsGrid.innerHTML = sorted.map(s => `
        <article class="sighting-card">
          <div class="card-image">
            ${s.image 
              ? `<img src="${s.image}" alt="${s.species}">`
              : `<span class="placeholder">üê¶</span>`
            }
          </div>
          <div class="card-content">
            <h2 class="species-name">${s.species}</h2>
            <p class="latin-name">${s.latinName || '‚Äì'}</p>
            <div class="card-meta">
              <span class="meta-item">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                  <line x1="16" y1="2" x2="16" y2="6"/>
                  <line x1="8" y1="2" x2="8" y2="6"/>
                  <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
                ${formatDate(s.date)}
              </span>
              ${s.location ? `
                <span class="meta-item">
                  <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                    <circle cx="12" cy="10" r="3"/>
                  </svg>
                  ${s.location}
                </span>
              ` : ''}
            </div>
          </div>
        </article>
      `).join('');
    }

    // Setup event listeners
    function setupEventListeners() {
      searchInput.addEventListener('input', filterSightings);
      yearFilter.addEventListener('change', filterSightings);
      locationFilter.addEventListener('change', filterSightings);
      
      resetBtn.addEventListener('click', () => {
        searchInput.value = '';
        yearFilter.value = '';
        locationFilter.value = '';
        filterSightings();
      });
    }

    // Start app
    init();
  </script>
</body>
</html>
